<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contribute to Impedance Analyzer &#8212; Impedance Analyzer v0.9.0-beta documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'v0.9.0-beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Impedance Analyzer’s documentation!" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Impedance Analyzer’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Impedance Analyzer v0.9.0-beta documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contribute-to-impedance-analyzer">
<h1>Contribute to Impedance Analyzer<a class="headerlink" href="#contribute-to-impedance-analyzer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="local-setup">
<h2>Local Setup<a class="headerlink" href="#local-setup" title="Permalink to this headline">¶</a></h2>
<p>Recommended minimum environment:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.python.org/">Python</a></li>
<li><a class="reference external" href="https://git-scm.com/">git</a></li>
<li><a class="reference external" href="https://conda.io/docs/index.html">conda</a></li>
</ul>
<p>The following assumes you have all of the above tools installed already and are using the git Bash shell.</p>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>1. Clone the project:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mdmurbach</span><span class="o">/</span><span class="n">ImpedanceAnalyzer</span><span class="o">.</span><span class="n">git</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">ImpedanceAnalyzer</span>
</pre></div>
</div>
<p>2. Create and initialize the virtual environment for the project:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">impedance</span><span class="o">-</span><span class="n">analyzer</span><span class="o">-</span><span class="n">env</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.4</span>
<span class="o">&gt;</span> <span class="n">conda</span> <span class="n">install</span> <span class="n">scipy</span><span class="o">=</span><span class="mf">0.19</span><span class="o">.</span><span class="mi">1</span>
<span class="o">&gt;</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>3. Use start.bat to activate the environment and start the application</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="o">./</span><span class="n">start</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
<p>4. If a browser window doesn&#8217;t open. Navigate to <a class="reference external" href="http://localhost:5000/">http://localhost:5000/</a></p>
</div>
</div>
<div class="section" id="flask-application-structure">
<h2>Flask Application Structure<a class="headerlink" href="#flask-application-structure" title="Permalink to this headline">¶</a></h2>
<p>ImpedanceAnalyzer&#8217;s structure is a Flask application with the structure shown below.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>\<span class="n">ImpedanceAnalyzer</span>
    \<span class="o">.</span><span class="n">ebextensions</span>      <span class="o">&lt;--</span> <span class="n">setup</span> <span class="n">files</span> <span class="k">for</span> <span class="n">executing</span> <span class="n">code</span> <span class="n">on</span> <span class="n">EC2</span> <span class="n">instances</span>
    \<span class="o">.</span><span class="n">elasticbeanstalk</span>  <span class="o">&lt;--</span> <span class="n">config</span> <span class="n">files</span> <span class="k">for</span> <span class="n">setting</span> <span class="n">up</span> <span class="n">Elastic</span> <span class="n">Beanstalk</span> <span class="n">environment</span>
    \<span class="n">application</span>        <span class="o">&lt;--</span> <span class="n">main</span> <span class="n">module</span>
        \<span class="n">static</span>         <span class="o">&lt;--</span> <span class="n">folder</span> <span class="k">for</span> <span class="n">static</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">js</span><span class="p">,</span> <span class="n">css</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span><span class="p">)</span> <span class="n">files</span>
        \<span class="n">templates</span>      <span class="o">&lt;--</span> <span class="n">contains</span> <span class="n">html</span> <span class="n">templates</span> <span class="k">for</span> <span class="n">pages</span>
        <span class="n">__init</span><span class="o">.</span><span class="n">py__</span>     <span class="o">&lt;--</span> <span class="n">makes</span> <span class="n">this</span> <span class="n">folder</span> <span class="n">a</span> <span class="n">module</span>
        <span class="n">fitPhysics</span><span class="o">.</span><span class="n">py</span>   <span class="o">&lt;--</span> <span class="n">python</span> <span class="n">functions</span> <span class="k">for</span> <span class="n">fitting</span> <span class="n">physics</span><span class="o">-</span><span class="n">based</span> <span class="n">models</span>
        <span class="n">ECfit</span>           <span class="o">&lt;--</span> <span class="n">module</span> <span class="k">for</span> <span class="n">fitting</span> <span class="n">equivalent</span> <span class="n">circuits</span>
        <span class="n">views</span><span class="o">.</span><span class="n">py</span>        <span class="o">&lt;--</span> <span class="n">responsible</span> <span class="k">for</span> <span class="n">routing</span> <span class="n">requests</span> <span class="n">to</span> <span class="n">different</span> <span class="n">pages</span>
    \<span class="n">docs</span>               <span class="o">&lt;--</span> <span class="n">contains</span> <span class="n">files</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">this</span> <span class="n">documentation</span>
    <span class="n">application</span><span class="o">.</span><span class="n">py</span>      <span class="o">&lt;--</span> <span class="o">.</span><span class="n">py</span> <span class="nb">file</span> <span class="k">for</span> <span class="n">starting</span> <span class="n">Flask</span> <span class="n">app</span>
    <span class="n">config</span><span class="o">.</span><span class="n">py</span>           <span class="o">&lt;--</span> <span class="n">config</span> <span class="nb">file</span> <span class="k">for</span> <span class="n">Flask</span> <span class="n">app</span>
    <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>    <span class="o">&lt;--</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">python</span> <span class="n">packages</span> <span class="n">used</span> <span class="n">to</span> <span class="n">setup</span> <span class="n">environment</span>
</pre></div>
</div>
<div class="section" id="flask-api">
<h3>Flask API<a class="headerlink" href="#flask-api" title="Permalink to this headline">¶</a></h3>
<p>The views module contains the routing structure for the flask application</p>
<span class="target" id="module-gains.engine"></span><dl class="function">
<dt id="gains.engine.get_best">
<code class="descclassname">gains.engine.</code><code class="descname">get_best</code><span class="sig-paren">(</span><em>get_fitness</em>, <em>optimalFitness</em>, <em>geneSet</em>, <em>display</em>, <em>show_ion</em>, <em>target</em>, <em>parent_candidates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#get_best"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.get_best" title="Permalink to this definition">¶</a></dt>
<dd><p>the primary public function of the engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>get_fitness</strong> (<em>function</em>) &#8211; the fitness function. Usually based on a molecular property.
An example can be found in the salt_generator module</li>
<li><strong>optimalFitness</strong> (<em>float</em>) &#8211; 0-1 the user specifies how close the engine should get to
the target (1 = exact)</li>
<li><strong>geneSet</strong> (<em>object</em>) &#8211; consists of atomtypes (by periodic number), rdkit molecular
fragments and custom fragments (that are currently hard
coded into the engine). These are the building blocks that
the engine can use to mutate the molecular candidate via the
_mutate() function</li>
<li><strong>display</strong> (<em>function</em>) &#8211; for printing results to the screen. Display is called for
every accepted mutation</li>
<li><strong>show_ion</strong> (<em>function</em>) &#8211; for printing results to the screen. show_ion is called when
a candidate has achieved the desired fitness score and is
returned by the engine</li>
<li><strong>target</strong> (<em>array</em><em>, </em><em>float</em><em>, or </em><em>int</em>) &#8211; the desired property value to be achieved by the engine.
If an array, a model containing multi-output targets must
be supplied to the engine</li>
<li><strong>parent_candidates</strong> (<em>array</em>) &#8211; an array of smiles strings that the engine uses to choose
a starting atomic configuration</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>child</strong> &#8211; the accepted molecular configuration. See Chromosome class
for details</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Chromosome object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gains.engine.molecular_similarity">
<code class="descclassname">gains.engine.</code><code class="descname">molecular_similarity</code><span class="sig-paren">(</span><em>best</em>, <em>parent_candidates</em>, <em>all=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#molecular_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.molecular_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a similarity score (0-1) of best with the
closest molecular relative in parent_candidates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>best</strong> (<em>object</em>) &#8211; a genetic.Chromosome() object, this is the
molecular candidate under investigation</li>
<li><strong>parent_candidates</strong> (<em>array</em>) &#8211; an array of smiles strings to compare with
best</li>
<li><strong>all</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default behavior is false and the tanimoto
similarity score is returned. If True
tanimoto, dice, cosine, sokal, kulczynski,
and mcconnaughey similarities are returned</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>if all=False the best tanimoto similarity score</em></li>
<li><em>as well as the index of the closest molecular</em></li>
<li><em>relative are returned</em></li>
<li><em>if all=True an array of best scores and indeces</em></li>
<li><em>of the closest molecular relative are returned</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.Benchmark">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">Benchmark</code><a class="reference internal" href="_modules/gains/engine.html#Benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.Benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>benchmark method used by the unittests</p>
</dd></dl>

<dl class="function">
<dt id="gains.engine.generate_geneset">
<code class="descclassname">gains.engine.</code><code class="descname">generate_geneset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#generate_geneset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.generate_geneset" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the GeneSet class with atoms and fragments to be used
by the engine. As it stands these are hardcoded into the engine
but will probably be adapted in future versions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>GeneSet</strong> &#8211; returns an instance of the GeneSet class containing atoms,
rdkit fragments, and custom fragments</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.GeneSet">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">GeneSet</code><span class="sig-paren">(</span><em>atoms</em>, <em>rdkitFrags</em>, <em>customFrags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#GeneSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.GeneSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Consists of atomtypes (by periodic number), rdkit molecular
fragments and custom fragments (that are currently hard
coded into the engine). These are the building blocks that
the engine can use to mutate the molecular candidate via the
_mutate() function</p>
</dd></dl>

<dl class="class">
<dt id="gains.engine.Chromosome">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">Chromosome</code><span class="sig-paren">(</span><em>genes</em>, <em>fitness</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#Chromosome"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.Chromosome" title="Permalink to this definition">¶</a></dt>
<dd><p>The main object handled by the engine. The Chromosome object
inherits the RWMol and Mol attributes from rdkit. Two additional
attributes are added: genes and fitness. Genes is the SMILES
encoding of the molecule, fitness is the score (0-1) returned
by the fitness function</p>
</dd></dl>

<dl class="function">
<dt id="gains.engine.load_data">
<code class="descclassname">gains.engine.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>data_file_name</em>, <em>pickleFile=False</em>, <em>simpleList=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from module_path/data/data_file_name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_file_name</strong> (<em>string</em>) &#8211; name of csv file to be loaded from module_path/data/
data_file_name. For example &#8216;salt_info.csv&#8217;.</li>
<li><strong>pickleFile</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default = False. if True opens pickled file</li>
<li><strong>simpleList</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default = False. If true will open the saved list and
properly handle split lines</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> &#8211; A data frame. For example with each row representing one
salt and each column representing the features of a given
salt</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Pandas DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.suppress_stdout_stderr">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">suppress_stdout_stderr</code><a class="reference internal" href="_modules/gains/engine.html#suppress_stdout_stderr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.suppress_stdout_stderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for doing a &#8220;deep suppression&#8221; of stdout and stderr in
Python, i.e. will suppress all print, even if the print originates in a
compiled C/Fortran sub-function.</p>
<p>The purpose of this is to suppress error outputs from rdkit. The engine
uses rdkit as a final sanity check on molecular candidates. Subsequently,
error messages from rdkit are produced all the time</p>
</dd></dl>

</div>
</div>
<div class="section" id="functions-for-model-fitting">
<h2>Functions for Model Fitting<a class="headerlink" href="#functions-for-model-fitting" title="Permalink to this headline">¶</a></h2>
<p>At the heart of ImpedanceAnalyzer is the ability to fit models to data:</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contribute to Impedance Analyzer</a><ul>
<li><a class="reference internal" href="#local-setup">Local Setup</a><ul>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#flask-application-structure">Flask Application Structure</a><ul>
<li><a class="reference internal" href="#flask-api">Flask API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#functions-for-model-fitting">Functions for Model Fitting</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Impedance Analyzer&#8217;s documentation!</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contribute.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Impedance Analyzer’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Impedance Analyzer v0.9.0-beta documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Matt Murbach.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>